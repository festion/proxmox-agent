{
  "timestamp": "2025-06-19T18:39:01.567396",
  "host": "192.168.1.137",
  "audits": {
    "resource_utilization": {
      "underutilized_vms": [],
      "overallocated_containers": [],
      "stopped_services": [
        {
          "type": "Container",
          "id": 119,
          "name": "authelia",
          "allocated_cores": 1,
          "allocated_memory_mb": 512
        },
        {
          "type": "Container",
          "id": 127,
          "name": "infisical",
          "allocated_cores": 2,
          "allocated_memory_mb": 512
        },
        {
          "type": "Container",
          "id": 118,
          "name": "alpine-nextcloud",
          "allocated_cores": 2,
          "allocated_memory_mb": 1024
        },
        {
          "type": "Container",
          "id": 116,
          "name": "debian",
          "allocated_cores": 2,
          "allocated_memory_mb": 512
        }
      ],
      "resource_waste": 0,
      "optimization_opportunities": []
    },
    "storage_optimization": [
      {
        "storage": "Backups",
        "issue": "Nearly full",
        "recommendation": "Implement backup retention policy",
        "priority": "HIGH"
      },
      {
        "storage": "TrueNas_NVMe",
        "issue": "Underutilized",
        "recommendation": "Migrate VMs from local-lvm to utilize network storage",
        "priority": "LOW"
      }
    ],
    "backup_strategy": {
      "backup_jobs": [],
      "retention_issues": [],
      "storage_issues": [],
      "recommendations": [
        {
          "category": "Retention Policy",
          "issue": "No automated snapshot cleanup",
          "recommendation": "Implement automated snapshot retention (keep 7 daily, 4 weekly, 12 monthly)",
          "priority": "HIGH",
          "impact": "Prevents future storage crises",
          "source": "backup_strategy"
        },
        {
          "category": "Backup Storage",
          "issue": "Backup storage 99.9% full",
          "recommendation": "Clean old backups and expand backup storage",
          "priority": "HIGH",
          "impact": "Ensures backup reliability",
          "source": "backup_strategy"
        },
        {
          "category": "Backup Strategy",
          "issue": "Manual backup management",
          "recommendation": "Implement Proxmox Backup Server or automated scripts",
          "priority": "MEDIUM",
          "impact": "Improves reliability and reduces manual effort",
          "source": "backup_strategy"
        }
      ]
    },
    "network_configuration": {
      "interfaces": [
        {
          "type": "eth",
          "active": 1,
          "method6": "manual",
          "method": "manual",
          "iface": "enp1s0",
          "exists": 1,
          "families": [
            "inet"
          ]
        },
        {
          "type": "unknown",
          "iface": "wlo1",
          "method6": "manual",
          "method": "manual",
          "families": [
            "inet"
          ],
          "priority": 3
        },
        {
          "address": "192.168.1.137",
          "priority": 4,
          "netmask": "24",
          "autostart": 1,
          "iface": "vmbr0",
          "cidr": "192.168.1.137/24",
          "gateway": "192.168.1.1",
          "bridge_ports": "enp1s0",
          "bridge_stp": "off",
          "families": [
            "inet"
          ],
          "bridge_fd": "0",
          "active": 1,
          "type": "bridge",
          "method6": "manual",
          "method": "static"
        },
        {
          "families": [
            "inet"
          ],
          "autostart": 1,
          "type": "eth",
          "method6": "manual",
          "method": "manual",
          "iface": "enp1"
        }
      ],
      "optimizations": [
        {
          "category": "Performance",
          "recommendation": "Consider enabling jumbo frames for TrueNAS connections",
          "priority": "LOW",
          "impact": "Improved network throughput for large file transfers"
        },
        {
          "category": "Security",
          "recommendation": "Review firewall rules and implement network segmentation",
          "priority": "MEDIUM",
          "impact": "Enhanced security posture"
        }
      ],
      "security_recommendations": []
    },
    "security_configuration": {
      "users": [
        {
          "enable": 1,
          "realm-type": "pve",
          "expire": 0,
          "userid": "api@pve"
        },
        {
          "enable": 1,
          "userid": "apiro@pam",
          "expire": 0,
          "realm-type": "pam"
        },
        {
          "realm-type": "pve",
          "expire": 0,
          "userid": "hass@pve",
          "enable": 1
        },
        {
          "expire": 0,
          "realm-type": "pam",
          "userid": "proxmox@pam@pam",
          "enable": 1
        },
        {
          "enable": 1,
          "email": "jeremy.ames@outlook.com",
          "userid": "root@pam",
          "realm-type": "pam",
          "expire": 0
        }
      ],
      "permissions": [],
      "vulnerabilities": [],
      "recommendations": [
        {
          "category": "Access Control",
          "issue": "Root access with password authentication",
          "recommendation": "Consider implementing SSH key-based authentication",
          "priority": "MEDIUM",
          "impact": "Enhanced security",
          "source": "security_configuration"
        },
        {
          "category": "Updates",
          "recommendation": "Establish regular update schedule for Proxmox and containers",
          "priority": "HIGH",
          "impact": "Security patch management",
          "source": "security_configuration"
        },
        {
          "category": "Monitoring",
          "recommendation": "Implement security monitoring and alerting",
          "priority": "MEDIUM",
          "impact": "Early threat detection",
          "source": "security_configuration"
        }
      ]
    },
    "automation_opportunities": {
      "current_automation": [],
      "opportunities": [
        {
          "category": "Storage Management",
          "opportunity": "Automated snapshot lifecycle management",
          "implementation": "Cron jobs or Proxmox hooks for automatic cleanup",
          "priority": "HIGH",
          "effort": "MEDIUM",
          "benefit": "Prevents storage crises, reduces manual maintenance"
        },
        {
          "category": "Monitoring",
          "opportunity": "Comprehensive system monitoring",
          "implementation": "Grafana + InfluxDB dashboard enhancement, alerting",
          "priority": "HIGH",
          "effort": "MEDIUM",
          "benefit": "Proactive issue detection and trending"
        },
        {
          "category": "Backup Automation",
          "opportunity": "Automated backup management",
          "implementation": "Proxmox Backup Server or custom scripts",
          "priority": "MEDIUM",
          "effort": "HIGH",
          "benefit": "Reliable, automated backups with retention"
        },
        {
          "category": "Update Management",
          "opportunity": "Automated security updates",
          "implementation": "Unattended upgrades for containers, staged updates",
          "priority": "MEDIUM",
          "effort": "MEDIUM",
          "benefit": "Improved security posture"
        },
        {
          "category": "Resource Optimization",
          "opportunity": "Dynamic resource allocation",
          "implementation": "Scripts to adjust container resources based on usage",
          "priority": "LOW",
          "effort": "HIGH",
          "benefit": "Improved resource efficiency"
        }
      ],
      "monitoring_gaps": []
    }
  },
  "summary": {
    "high_priority": 3,
    "medium_priority": 3,
    "low_priority": 0,
    "total_recommendations": 6
  }
}